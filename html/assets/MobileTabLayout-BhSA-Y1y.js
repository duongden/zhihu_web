import{A as e,C as t,E as n,X as r,a as i,l as a,n as o,o as s,t as c,v as l,w as u,x as d}from"./_plugin-vue_export-helper-DKZfpah6.js";var f={class:`mobile-tab-layout`},p={class:`header`},m={class:`tab-bar`},h=[`selected`,`onClick`],g={slot:`text`},_={class:`page-content`},v=c({__name:`MobileTabLayout`,props:{tabs:{type:Array,required:!0},activeId:{type:String,default:void 0},onChange:{type:Function,default:void 0},defaultId:{type:String,default:void 0}},setup(c){let v=c,y=e(v.defaultId||v.tabs[0]?.id),b=e(null),x=e(!1),S=e(null),C=i(()=>v.activeId===void 0?y.value:v.activeId),w=e=>{v.onChange?v.onChange(e):y.value=e},T=()=>{let e=b.value;if(!e||x.value)return;let t=e.scrollLeft,n=e.offsetWidth,r=Math.round(t/n),i=v.tabs[r]?.id;i&&i!==C.value&&(v.onChange?v.onChange(i):y.value=i)};return n(C,e=>{l(()=>{let t=b.value;if(!t)return;let n=v.tabs.findIndex(t=>t.id===e);if(n===-1)return;let r=t.offsetWidth*n,i=t.scrollLeft;Math.abs(i-r)>5&&(x.value=!0,S.value&&clearTimeout(S.value),t.scrollTo({left:r,behavior:`smooth`}),S.value=setTimeout(()=>{x.value=!1},600))})},{immediate:!0}),(e,n)=>(d(),a(`div`,f,[s(`div`,p,[s(`s-tab`,m,[(d(!0),a(o,null,t(c.tabs,e=>(d(),a(`s-tab-item`,{key:e.id,selected:C.value===e.id,onClick:t=>w(e.id)},[s(`div`,g,r(e.label),1)],8,h))),128))])]),s(`div`,{ref_key:`containerRef`,ref:b,class:`view-pager`,onScroll:T},[(d(!0),a(o,null,t(c.tabs,t=>(d(),a(`div`,{key:t.id,class:`page`},[s(`div`,_,[u(e.$slots,t.id,{},void 0,!0)])]))),128))],544)]))}},[[`__scopeId`,`data-v-e291060c`]]);export{v as t};